name = "oikonomos-reputation-worker"
main = "src/index.ts"
compatibility_date = "2024-01-01"

[vars]
CHAIN_ID = "11155111"
INDEXER_URL = "https://oikonomos-indexer.up.railway.app"
REPUTATION_REGISTRY = "0x8004B663056A597Dffe9eCcC1965A193B7388713"
# Treasury agent = tokenId 731, Strategy agent = tokenId 732
TREASURY_AGENT_ID = "731"
STRATEGY_AGENT_ID = "732"

# Cron trigger: every 5 minutes
[triggers]
crons = ["*/5 * * * *"]

# KV namespace for tracking processed receipts
[[kv_namespaces]]
binding = "REPUTATION_KV"
id = "TBD"  # Run: wrangler kv:namespace create REPUTATION_KV
