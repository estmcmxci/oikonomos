# =============================================================================
# OIKONOMOS - ENS-native Agent Registry for Uniswap v4 Automation
# Environment Configuration
# =============================================================================

# =============================================================================
# NETWORK CONFIGURATION
# =============================================================================

# Target Network (Sepolia for MVP)
CHAIN_ID=11155111
NETWORK=sepolia

# Ethereum RPC Endpoints
# Required: At least one RPC provider for contract deployment and interactions
SEPOLIA_RPC_URL=https://sepolia.infura.io/v3/YOUR_INFURA_KEY
# Alternative providers:
# SEPOLIA_RPC_URL=https://eth-sepolia.g.alchemy.com/v2/YOUR_ALCHEMY_KEY
# SEPOLIA_RPC_URL=https://rpc.ankr.com/eth_sepolia

# For production/mainnet (future)
MAINNET_RPC_URL=
MAINNET_CHAIN_ID=1

# =============================================================================
# DEPLOYMENT & SIGNING
# =============================================================================

# Deployer Private Key (for contract deployment)
# ⚠️ SECURITY: Never commit this to git. Use environment variables or secure key management.
# Format: 0x followed by 64 hex characters
DEPLOYER_PRIVATE_KEY=0x0000000000000000000000000000000000000000000000000000000000000000

# Agent Executor Private Key (DEPRECATED - use dedicated keys below)
# Used by treasury-agent, router-agent for executing transactions
AGENT_EXECUTOR_PRIVATE_KEY=0x0000000000000000000000000000000000000000000000000000000000000000

# =============================================================================
# DEDICATED AGENT WALLETS (OIK-32)
# =============================================================================
# Each agent service has its own wallet for gas and fee collection.
# Generate with: npx tsx scripts/generate-wallet.ts

# Treasury Agent - Executes rebalances + receives x402 fees
# Address: (generated)
TREASURY_AGENT_PRIVATE_KEY=0x0000000000000000000000000000000000000000000000000000000000000000
AGENT_WALLET=0x0000000000000000000000000000000000000000

# Reputation Worker - Submits feedback to ReputationRegistry
# Address: (generated)
REPUTATION_WORKER_PRIVATE_KEY=0x0000000000000000000000000000000000000000000000000000000000000000
REPUTATION_WORKER_WALLET=0x0000000000000000000000000000000000000000

# Strategy Agent - Execute strategy quotes (future)
# Address: (generated)
STRATEGY_AGENT_PRIVATE_KEY=0x0000000000000000000000000000000000000000000000000000000000000000
STRATEGY_AGENT_WALLET=0x0000000000000000000000000000000000000000

# =============================================================================
# EXTERNAL CONTRACT ADDRESSES (Sepolia)
# =============================================================================

# Uniswap v4 Contracts
UNISWAP_V4_POOL_MANAGER=0xE03A1074c86CFeDd5C142C4F04F1a1536e203543
UNISWAP_V4_UNIVERSAL_ROUTER=0x3A9D48AB9751398BbFa63ad67599Bb04e4BdF98b
UNISWAP_V4_POSITION_MANAGER=0x429ba70129df741B2Ca2a85BC3A2a3328e5c09b4
UNISWAP_V4_QUOTER=0x61b3f2011a92d183c7dbadbda940a7555ccf9227

# Gnosis Safe Contracts
GNOSIS_SAFE_SINGLETON=0x41675C099F32341bf84BFc5382aF534df5C7461a
GNOSIS_SAFE_FACTORY=0x4e1DCf7AD4e460CfD30791CCC4F9c8a4f820ec67
GNOSIS_SAFE_PROXY_FACTORY=0x4e1DCf7AD4e460CfD30791CCC4F9c8a4f820ec67

# Zodiac Roles Modifier
ZODIAC_ROLES_MODIFIER=0x9646fDAD06d3e24444381f44362a3B0eB343D337

# Token Addresses (Sepolia)
USDC_SEPOLIA=0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238
# Faucet: https://faucet.circle.com/

# ENS Registry (Sepolia)
ENS_REGISTRY=0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e
ENS_RESOLVER=0x8FADE66B79cC9f707aB26799354482EB93a5B7dD

# ERC-8004 Registries (if deploying)
ERC8004_IDENTITY_REGISTRY=
ERC8004_REPUTATION_REGISTRY=
ERC8004_VALIDATION_REGISTRY=

# =============================================================================
# OIKONOMOS CONTRACT ADDRESSES (Deploy and update after deployment)
# =============================================================================

# Core Contracts
# ReceiptHook deployed via CREATE2 (salt: 43988, flags: 0x0040 AFTER_SWAP_FLAG)
RECEIPT_HOOK_ADDRESS=0xea155cf7d152125839e66b585b9e455621b7c040
IDENTITY_REGISTRY_ADDRESS=
REPUTATION_REGISTRY_ADDRESS=
INTENT_ROUTER_ADDRESS=
AGENT_EXECUTOR_ADDRESS=

# =============================================================================
# API KEYS & EXTERNAL SERVICES
# =============================================================================

# Etherscan API (for contract verification)
ETHERSCAN_API_KEY=

# Infura API (if using Infura RPC)
INFURA_API_KEY=

# Alchemy API (if using Alchemy RPC)
ALCHEMY_API_KEY=

# Safe Transaction Service API
# Used for Mode B (Safe + Roles) operations
SAFE_API_KEY=
SAFE_API_URL=https://safe-transaction-sepolia.safe.global/api

# ENS Node API (optional, for faster ENS resolution)
# Alternative to direct RPC calls
ENSNODE_API_KEY=
ENSNODE_API_URL=https://api.ensnode.com

# IPFS/Storage (for agent metadata, registration files)
# Option A: Pinata
PINATA_API_KEY=
PINATA_SECRET_KEY=
PINATA_JWT=

# Option B: Web3.Storage
WEB3_STORAGE_TOKEN=

# Option C: Storacha (from context files)
STORACHA_TOKEN=

# =============================================================================
# CLOUDFLARE WORKERS (Agent Deployment)
# =============================================================================

# Cloudflare Account ID
CLOUDFLARE_ACCOUNT_ID=

# Cloudflare API Token (for wrangler deployment)
CLOUDFLARE_API_TOKEN=

# Agent Worker URLs (set after deployment)
TREASURY_AGENT_URL=
ROUTER_AGENT_URL=
STRATEGY_AGENT_URL=

# Cloudflare KV Namespaces (for caching quotes, receipts)
CLOUDFLARE_KV_NAMESPACE_ID=

# Cloudflare Durable Objects (for stateful agent operations)
CLOUDFLARE_DURABLE_OBJECT_CLASS_ID=

# =============================================================================
# INDEXER (Ponder)
# =============================================================================

# Ponder Configuration
PONDER_RPC_URL_11155111=${SEPOLIA_RPC_URL}
PONDER_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/oikonomos

# Ponder API (if running as separate service)
PONDER_URL=http://localhost:42069
PONDER_API_KEY=

# =============================================================================
# DATABASE
# =============================================================================

# PostgreSQL (for indexer and dashboard)
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/oikonomos
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=oikonomos
DATABASE_USER=postgres
DATABASE_PASSWORD=postgres

# =============================================================================
# FRONTEND (Next.js Dashboard)
# =============================================================================

# Next.js Public Variables
NEXT_PUBLIC_CHAIN_ID=11155111
NEXT_PUBLIC_NETWORK=sepolia
NEXT_PUBLIC_RPC_URL=${SEPOLIA_RPC_URL}
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Contract Addresses (exposed to frontend)
NEXT_PUBLIC_RECEIPT_HOOK_ADDRESS=
NEXT_PUBLIC_IDENTITY_REGISTRY_ADDRESS=
NEXT_PUBLIC_INTENT_ROUTER_ADDRESS=
NEXT_PUBLIC_AGENT_EXECUTOR_ADDRESS=

# ENS Configuration
NEXT_PUBLIC_ENS_REGISTRY=${ENS_REGISTRY}
NEXT_PUBLIC_ENS_RESOLVER=${ENS_RESOLVER}

# =============================================================================
# ENS DOMAIN CONFIGURATION
# =============================================================================

# Primary ENS Domain (for agent discovery)
# Example: treasury.oikonomos.eth, router.oikonomos.eth
PRIMARY_ENS_DOMAIN=
PRIMARY_ENS_NODE=

# Agent ENS Names (set after registration)
TREASURY_AGENT_ENS=treasury.oikonomos.eth
ROUTER_AGENT_ENS=router.oikonomos.eth
STRATEGY_AGENT_ENS_PREFIX=strategy.router.oikonomos.eth

# =============================================================================
# AGENT CONFIGURATION
# =============================================================================

# Agent Entrypoints (Cloudflare Workers URLs)
AGENT_TREASURY_ENTRYPOINT=
AGENT_ROUTER_ENTRYPOINT=
AGENT_STRATEGY_ENTRYPOINT=

# A2A Protocol Endpoints
AGENT_A2A_ENDPOINT=/a2a
AGENT_X402_ENDPOINT=/x402

# Agent Execution Mode
# Options: "intent-only" or "safe-roles"
AGENT_MODE=intent-only

# Safe Configuration (for Mode B)
AGENT_SAFE_ADDRESS=
AGENT_ROLES_MODIFIER_ADDRESS=
AGENT_ROLE_KEY=

# =============================================================================
# X402 PAYMENT PROTOCOL (Optional)
# =============================================================================

# x402 Payment Configuration
X402_ENABLED=false
X402_TOKEN_ADDRESS=${USDC_SEPOLIA}
X402_PAYMENT_RECIPIENT=

# =============================================================================
# MONITORING & ALERTS (Optional)
# =============================================================================

# Sentry (error tracking)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# Discord Webhook (for alerts)
DISCORD_WEBHOOK_URL=

# Telegram Bot (for alerts)
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================

# Environment
NODE_ENV=development

# Logging
LOG_LEVEL=debug
VERBOSE_LOGGING=true

# Test Configuration
TEST_PRIVATE_KEY=0x0000000000000000000000000000000000000000000000000000000000000001
TEST_SAFE_ADDRESS=
TEST_ENS_DOMAIN=

# Fork Configuration (for local testing)
ANVIL_RPC_URL=http://localhost:8545
FORK_BLOCK_NUMBER=

# =============================================================================
# SECURITY & AUTHENTICATION
# =============================================================================

# JWT Secret (for API authentication, if needed)
JWT_SECRET=dev-secret-change-in-production

# API Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=60000

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable features for MVP
FEATURE_MODE_B_ENABLED=false
FEATURE_REPUTATION_REGISTRY_ENABLED=false
FEATURE_X402_ENABLED=false
FEATURE_MARKETPLACE_ENABLED=false

# =============================================================================
# NOTES
# =============================================================================
#
# 1. PRIVATE KEYS: Never commit private keys to git. Use environment variables
#    or secure key management systems (AWS Secrets Manager, HashiCorp Vault, etc.)
#
# 2. RPC PROVIDERS: You need at least one RPC provider. Free tiers available:
#    - Infura: https://infura.io (free tier: 100k requests/day)
#    - Alchemy: https://alchemy.com (free tier: 300M compute units/month)
#    - Ankr: https://ankr.com (public RPC, no key needed)
#
# 3. CLOUDFLARE: Sign up at https://dash.cloudflare.com
#    - Free tier includes: 100k requests/day, 10ms CPU time
#    - Workers deploy via wrangler CLI
#
# 4. DATABASE: PostgreSQL required for indexer. Can run locally or use:
#    - Supabase (free tier)
#    - Railway (free tier)
#    - Neon (free tier)
#
# 5. IPFS: Choose one storage provider:
#    - Pinata: https://pinata.cloud (free tier: 1GB storage)
#    - Web3.Storage: https://web3.storage (free tier: 5GB)
#    - Storacha: Mentioned in context files
#
# 6. ENS: Register domains at https://app.ens.domains
#    - Sepolia: Use testnet.ens.domains
#    - Mainnet: Requires ETH for registration
#
# 7. USDC: Get testnet USDC from Circle faucet:
#    - https://faucet.circle.com/
#
# =============================================================================
