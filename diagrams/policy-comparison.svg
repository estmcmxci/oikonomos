<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 2389.44px; background-color: transparent;" viewBox="0 0 2389.4375 1772" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#ccc;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#a44141;}#my-svg .error-text{fill:#ddd;stroke:#ddd;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:lightgrey;stroke:lightgrey;}#my-svg .marker.cross{stroke:lightgrey;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#ccc;}#my-svg .cluster-label text{fill:#F9FFFE;}#my-svg .cluster-label span{color:#F9FFFE;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#ccc;color:#ccc;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#1f2020;stroke:#ccc;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:lightgrey!important;stroke-width:0;stroke:lightgrey;}#my-svg .arrowheadPath{fill:lightgrey;}#my-svg .edgePath .path{stroke:lightgrey;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:lightgrey;fill:none;}#my-svg .edgeLabel{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#my-svg .edgeLabel p{background-color:hsl(0, 0%, 34.4117647059%);}#my-svg .edgeLabel rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#my-svg .labelBkg{background-color:rgba(87.75, 87.75, 87.75, 0.5);}#my-svg .cluster rect{fill:hsl(180, 1.5873015873%, 28.3529411765%);stroke:rgba(255, 255, 255, 0.25);stroke-width:1px;}#my-svg .cluster text{fill:#F9FFFE;}#my-svg .cluster span{color:#F9FFFE;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(20, 1.5873015873%, 12.3529411765%);border:1px solid rgba(255, 255, 255, 0.25);border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#ccc;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:hsl(0, 0%, 34.4117647059%);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#my-svg .headerStyle&gt;*{fill:#1e293b!important;stroke:#475569!important;color:#fff!important;}#my-svg .headerStyle span{fill:#1e293b!important;stroke:#475569!important;color:#fff!important;}#my-svg .headerStyle tspan{fill:#fff!important;}#my-svg .modeA&gt;*{fill:#3b82f6!important;stroke:#2563eb!important;color:#fff!important;}#my-svg .modeA span{fill:#3b82f6!important;stroke:#2563eb!important;color:#fff!important;}#my-svg .modeA tspan{fill:#fff!important;}#my-svg .modeB&gt;*{fill:#f59e0b!important;stroke:#d97706!important;color:#fff!important;}#my-svg .modeB span{fill:#f59e0b!important;stroke:#d97706!important;color:#fff!important;}#my-svg .modeB tspan{fill:#fff!important;}#my-svg .compare&gt;*{fill:#8b5cf6!important;stroke:#7c3aed!important;color:#fff!important;}#my-svg .compare span{fill:#8b5cf6!important;stroke:#7c3aed!important;color:#fff!important;}#my-svg .compare tspan{fill:#fff!important;}#my-svg .shared&gt;*{fill:#10b981!important;stroke:#059669!important;color:#fff!important;}#my-svg .shared span{fill:#10b981!important;stroke:#059669!important;color:#fff!important;}#my-svg .shared tspan{fill:#fff!important;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path d="M1398,1290L1398,1320.333C1398,1350.667,1398,1411.333,1406.21,1447.624C1414.421,1483.915,1430.842,1495.829,1439.052,1501.787L1447.262,1507.744" id="L_MODE_A_SHARED_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_MODE_A_SHARED_0" data-points="W3sieCI6MTM5OCwieSI6MTI5MH0seyJ4IjoxMzk4LCJ5IjoxNDcyfSx7IngiOjE0NTAuNSwieSI6MTUxMC4wOTMwMjMyNTU4MTR9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1828,1452L1828,1455.333C1828,1458.667,1828,1465.333,1819.79,1474.624C1811.579,1483.915,1795.158,1495.829,1786.948,1501.787L1778.738,1507.744" id="L_MODE_B_SHARED_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_MODE_B_SHARED_0" data-points="W3sieCI6MTgyOCwieSI6MTQ1Mn0seyJ4IjoxODI4LCJ5IjoxNDcyfSx7IngiOjE3NzUuNSwieSI6MTUxMC4wOTMwMjMyNTU4MTR9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_MODE_A_SHARED_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_MODE_B_SHARED_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="root" transform="translate(1442.5, 1484)"><g class="clusters"><g class="cluster" id="SHARED" data-look="classic"><rect style="" x="8" y="8" width="325" height="272"/><g class="cluster-label" transform="translate(70.5, 8)"><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>‚úÖ SHARED: RECEIPT SYSTEM</p></span></div></foreignObject></g></g></g><g class="edgePaths"/><g class="edgeLabels"/><g class="nodes"><g class="node default shared" id="flowchart-RECEIPT-36" transform="translate(170.5, 144)"><rect class="basic label-container" style="fill:#10b981 !important;stroke:#059669 !important" x="-130" y="-111" width="260" height="222"/><g class="label" style="color:#fff !important" transform="translate(-100, -96)"><rect/><foreignObject width="200" height="192"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Both modes emit identical receipts:<br />‚Ä¢ intentHash<br />‚Ä¢ path/price/slippage<br />‚Ä¢ policy verdict<br />‚Ä¢ <b>enforcement_mode</b> field<br />‚Ä¢ Safe tx hash (Mode B only)</p></span></div></foreignObject></g></g></g></g><g class="root" transform="translate(0, 499.5)"><g class="clusters"><g class="cluster" id="COMPARISON" data-look="classic"><rect style="" x="8" y="8" width="1160" height="445"/><g class="cluster-label" transform="translate(513.0859375, 8)"><foreignObject width="149.828125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>‚öñÔ∏è KEY DIFFERENCES</p></span></div></foreignObject></g></g></g><g class="edgePaths"/><g class="edgeLabels"/><g class="nodes"><g class="root" transform="translate(25, 44.5)"><g class="clusters"><g class="cluster" id="C3" data-look="classic"><rect style="" x="8" y="8" width="350" height="356"/><g class="cluster-label" transform="translate(153.6875, 8)"><foreignObject width="58.625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Best For</p></span></div></foreignObject></g></g></g><g class="edgePaths"/><g class="edgeLabels"/><g class="nodes"><g class="node default compare" id="flowchart-BF_A-34" transform="translate(183, 108)"><rect class="basic label-container" style="fill:#8b5cf6 !important;stroke:#7c3aed !important" x="-130" y="-75" width="260" height="150"/><g class="label" style="color:#fff !important" transform="translate(-100, -60)"><rect/><foreignObject width="200" height="120"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Intent-First:<br />‚Ä¢ Individual power users<br />‚Ä¢ Fast iteration<br />‚Ä¢ Lower governance overhead</p></span></div></foreignObject></g></g><g class="node default compare" id="flowchart-BF_B-35" transform="translate(183, 276)"><rect class="basic label-container" style="fill:#8b5cf6 !important;stroke:#7c3aed !important" x="-109.96875" y="-63" width="219.9375" height="126"/><g class="label" style="color:#fff !important" transform="translate(-79.96875, -48)"><rect/><foreignObject width="159.9375" height="96"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Safe+Roles:<br />‚Ä¢ DAO treasuries<br />‚Ä¢ Institutional custody<br />‚Ä¢ Audit requirements</p></span></div></foreignObject></g></g></g></g><g class="root" transform="translate(405, 32.5)"><g class="clusters"><g class="cluster" id="C2" data-look="classic"><rect style="" x="8" y="8" width="350" height="380"/><g class="cluster-label" transform="translate(139.8828125, 8)"><foreignObject width="86.234375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Blast Radius</p></span></div></foreignObject></g></g></g><g class="edgePaths"/><g class="edgeLabels"/><g class="nodes"><g class="node default compare" id="flowchart-BR_A-32" transform="translate(183, 108)"><rect class="basic label-container" style="fill:#8b5cf6 !important;stroke:#7c3aed !important" x="-130" y="-75" width="260" height="150"/><g class="label" style="color:#fff !important" transform="translate(-100, -60)"><rect/><foreignObject width="200" height="120"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Intent-First:<br />Compromised executor can only<br />do what signed intents allow</p></span></div></foreignObject></g></g><g class="node default compare" id="flowchart-BR_B-33" transform="translate(183, 288)"><rect class="basic label-container" style="fill:#8b5cf6 !important;stroke:#7c3aed !important" x="-130" y="-75" width="260" height="150"/><g class="label" style="color:#fff !important" transform="translate(-100, -60)"><rect/><foreignObject width="200" height="120"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Safe+Roles:<br />Compromised executor can only<br />do what Roles permits<br /><i>(recovery: revoke role)</i></p></span></div></foreignObject></g></g></g></g><g class="root" transform="translate(785, 32.5)"><g class="clusters"><g class="cluster" id="C1" data-look="classic"><rect style="" x="8" y="8" width="350" height="380"/><g class="cluster-label" transform="translate(141.78125, 8)"><foreignObject width="82.4375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Trust Model</p></span></div></foreignObject></g></g></g><g class="edgePaths"/><g class="edgeLabels"/><g class="nodes"><g class="node default compare" id="flowchart-T_A-30" transform="translate(183, 108)"><rect class="basic label-container" style="fill:#8b5cf6 !important;stroke:#7c3aed !important" x="-130" y="-75" width="260" height="150"/><g class="label" style="color:#fff !important" transform="translate(-100, -60)"><rect/><foreignObject width="200" height="120"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Intent-First:<br /><b>User controls via signatures</b><br />Agent limited by intent constraints</p></span></div></foreignObject></g></g><g class="node default compare" id="flowchart-T_B-31" transform="translate(183, 288)"><rect class="basic label-container" style="fill:#8b5cf6 !important;stroke:#7c3aed !important" x="-130" y="-75" width="260" height="150"/><g class="label" style="color:#fff !important" transform="translate(-100, -60)"><rect/><foreignObject width="200" height="120"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Safe+Roles:<br /><b>Governance controls via permissions</b><br />Agent limited by Roles config</p></span></div></foreignObject></g></g></g></g></g></g><g class="root" transform="translate(1620, 0)"><g class="clusters"><g class="cluster" id="MODE_B" data-look="classic"><rect style="" x="8" y="8" width="400" height="1444"/><g class="cluster-label" transform="translate(114.75, 8)"><foreignObject width="186.5" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>üÖ±Ô∏è MODE B: SAFE + ROLES</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M208,228.5L208,233.917C208,239.333,208,250.167,208,260.333C208,270.5,208,280,208,284.75L208,289.5" id="L_B_USER_B_AUTH_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_B_USER_B_AUTH_0" data-points="W3sieCI6MjA4LCJ5IjoyMjguNX0seyJ4IjoyMDgsInkiOjI2MX0seyJ4IjoyMDgsInkiOjI5My41fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M208,733.5L208,738.917C208,744.333,208,755.167,208,765.333C208,775.5,208,785,208,789.75L208,794.5" id="L_B_AUTH_B_ENFORCE_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_B_AUTH_B_ENFORCE_0" data-points="W3sieCI6MjA4LCJ5Ijo3MzMuNX0seyJ4IjoyMDgsInkiOjc2Nn0seyJ4IjoyMDgsInkiOjc5OC41fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M208,1142.5L208,1147.917C208,1153.333,208,1164.167,208,1174.333C208,1184.5,208,1194,208,1198.75L208,1203.5" id="L_B_ENFORCE_B_EXEC_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_B_ENFORCE_B_EXEC_0" data-points="W3sieCI6MjA4LCJ5IjoxMTQyLjV9LHsieCI6MjA4LCJ5IjoxMTc1fSx7IngiOjIwOCwieSI6MTIwNy41fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_B_USER_B_AUTH_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_B_AUTH_B_ENFORCE_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_B_ENFORCE_B_EXEC_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="root" transform="translate(30.984375, 1199.5)"><g class="clusters"><g class="cluster" id="B_EXEC" data-look="classic"><rect style="" x="8" y="8" width="338.03125" height="212"/><g class="cluster-label" transform="translate(141.90625, 8)"><foreignObject width="70.21875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Execution</p></span></div></foreignObject></g></g></g><g class="edgePaths"/><g class="edgeLabels"/><g class="nodes"><g class="node default modeB" id="flowchart-B_AGENT-22" transform="translate(177.015625, 60)"><rect class="basic label-container" style="fill:#f59e0b !important;stroke:#d97706 !important" x="-124.015625" y="-27" width="248.03125" height="54"/><g class="label" style="color:#fff !important" transform="translate(-94.015625, -12)"><rect/><foreignObject width="188.03125" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Agent Executor submits tx</p></span></div></foreignObject></g></g><g class="node default modeB" id="flowchart-B_GATED-23" transform="translate(177.015625, 156)"><rect class="basic label-container" style="fill:#f59e0b !important;stroke:#d97706 !important" x="-110.40625" y="-39" width="220.8125" height="78"/><g class="label" style="color:#fff !important" transform="translate(-80.40625, -24)"><rect/><foreignObject width="160.8125" height="48"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Safe executes<br /><i>Only if Roles approves</i></p></span></div></foreignObject></g></g></g></g><g class="root" transform="translate(42.140625, 32.5)"><g class="clusters"><g class="cluster" id="B_USER" data-look="classic"><rect style="" x="8" y="8" width="315.71875" height="188"/><g class="cluster-label" transform="translate(131.203125, 8)"><foreignObject width="69.3125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>User Type</p></span></div></foreignObject></g></g></g><g class="edgePaths"/><g class="edgeLabels"/><g class="nodes"><g class="node default modeB" id="flowchart-B_U1-14" transform="translate(165.859375, 60)"><rect class="basic label-container" style="fill:#f59e0b !important;stroke:#d97706 !important" x="-77.390625" y="-27" width="154.78125" height="54"/><g class="label" style="color:#fff !important" transform="translate(-47.390625, -12)"><rect/><foreignObject width="94.78125" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>DAO Treasury</p></span></div></foreignObject></g></g><g class="node default modeB" id="flowchart-B_U2-15" transform="translate(165.859375, 144)"><rect class="basic label-container" style="fill:#f59e0b !important;stroke:#d97706 !important" x="-112.859375" y="-27" width="225.71875" height="54"/><g class="label" style="color:#fff !important" transform="translate(-82.859375, -12)"><rect/><foreignObject width="165.71875" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Institutional / Multi-sig</p></span></div></foreignObject></g></g></g></g><g class="root" transform="translate(34.1015625, 285.5)"><g class="clusters"><g class="cluster" id="B_AUTH" data-look="classic"><rect style="" x="8" y="8" width="331.796875" height="440"/><g class="cluster-label" transform="translate(125.4609375, 8)"><foreignObject width="96.875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Authorization</p></span></div></foreignObject></g></g></g><g class="edgePaths"/><g class="edgeLabels"/><g class="nodes"><g class="node default modeB" id="flowchart-B_VOTE-16" transform="translate(173.8984375, 60)"><rect class="basic label-container" style="fill:#f59e0b !important;stroke:#d97706 !important" x="-90.1171875" y="-27" width="180.234375" height="54"/><g class="label" style="color:#fff !important" transform="translate(-60.1171875, -12)"><rect/><foreignObject width="120.234375" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>DAO votes policy</p></span></div></foreignObject></g></g><g class="node default modeB" id="flowchart-B_COMPILE-17" transform="translate(173.8984375, 156)"><rect class="basic label-container" style="fill:#f59e0b !important;stroke:#d97706 !important" x="-120.8984375" y="-39" width="241.796875" height="78"/><g class="label" style="color:#fff !important" transform="translate(-90.8984375, -24)"><rect/><foreignObject width="181.796875" height="48"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Policy Compiler<br /><i>Template ‚Üí Roles Config</i></p></span></div></foreignObject></g></g><g class="node default modeB" id="flowchart-B_PERMS-18" transform="translate(173.8984375, 324)"><rect class="basic label-container" style="fill:#f59e0b !important;stroke:#d97706 !important" x="-116.046875" y="-99" width="232.09375" height="198"/><g class="label" style="color:#fff !important" transform="translate(-86.046875, -84)"><rect/><foreignObject width="172.09375" height="168"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Role Permissions:<br />‚Ä¢ target contracts<br />‚Ä¢ function selectors<br />‚Ä¢ parameter constraints<br />‚Ä¢ token allowlists<br />‚Ä¢ spend limits/day<br />‚Ä¢ cadence limits</p></span></div></foreignObject></g></g></g></g><g class="root" transform="translate(25, 790.5)"><g class="clusters"><g class="cluster" id="B_ENFORCE" data-look="classic"><rect style="" x="8" y="8" width="350" height="344"/><g class="cluster-label" transform="translate(116.5, 8)"><foreignObject width="133" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Enforcement Point</p></span></div></foreignObject></g></g></g><g class="edgePaths"/><g class="edgeLabels"/><g class="nodes"><g class="node default modeB" id="flowchart-B_SAFE-19" transform="translate(183, 72)"><rect class="basic label-container" style="fill:#f59e0b !important;stroke:#d97706 !important" x="-104.5" y="-39" width="209" height="78"/><g class="label" style="color:#fff !important" transform="translate(-74.5, -24)"><rect/><foreignObject width="149" height="48"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Gnosis Safe<br /><i>Holds treasury funds</i></p></span></div></foreignObject></g></g><g class="node default modeB" id="flowchart-B_ROLES-20" transform="translate(183, 168)"><rect class="basic label-container" style="fill:#f59e0b !important;stroke:#d97706 !important" x="-106.421875" y="-27" width="212.84375" height="54"/><g class="label" style="color:#fff !important" transform="translate(-76.421875, -12)"><rect/><foreignObject width="152.84375" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Zodiac Roles Modifier</p></span></div></foreignObject></g></g><g class="node default modeB" id="flowchart-B_CHECK-21" transform="translate(183, 276)"><rect class="basic label-container" style="fill:#f59e0b !important;stroke:#d97706 !important" x="-130" y="-51" width="260" height="102"/><g class="label" style="color:#fff !important" transform="translate(-100, -36)"><rect/><foreignObject width="200" height="72"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Roles checks EVERY tx<br /><i>Agent can't exceed permissions</i></p></span></div></foreignObject></g></g></g></g></g></g><g class="root" transform="translate(1190, 162)"><g class="clusters"><g class="cluster" id="MODE_A" data-look="classic"><rect style="" x="8" y="8" width="400" height="1120"/><g class="cluster-label" transform="translate(115.546875, 8)"><foreignObject width="184.90625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>üÖ∞Ô∏è MODE A: INTENT-FIRST</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M208,228.5L208,233.917C208,239.333,208,250.167,208,260.333C208,270.5,208,280,208,284.75L208,289.5" id="L_A_USER_A_AUTH_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_A_USER_A_AUTH_0" data-points="W3sieCI6MjA4LCJ5IjoyMjguNX0seyJ4IjoyMDgsInkiOjI2MX0seyJ4IjoyMDgsInkiOjI5My41fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M208,601.5L208,606.917C208,612.333,208,623.167,208,633.333C208,643.5,208,653,208,657.75L208,662.5" id="L_A_AUTH_A_ENFORCE_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_A_AUTH_A_ENFORCE_0" data-points="W3sieCI6MjA4LCJ5Ijo2MDEuNX0seyJ4IjoyMDgsInkiOjYzNH0seyJ4IjoyMDgsInkiOjY2Ni41fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M208,902.5L208,907.917C208,913.333,208,924.167,208,934.333C208,944.5,208,954,208,958.75L208,963.5" id="L_A_ENFORCE_A_EXEC_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_A_ENFORCE_A_EXEC_0" data-points="W3sieCI6MjA4LCJ5Ijo5MDIuNX0seyJ4IjoyMDgsInkiOjkzNX0seyJ4IjoyMDgsInkiOjk2Ny41fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_A_USER_A_AUTH_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_A_AUTH_A_ENFORCE_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_A_ENFORCE_A_EXEC_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="root" transform="translate(55.390625, 959.5)"><g class="clusters"><g class="cluster" id="A_EXEC" data-look="classic"><rect style="" x="8" y="8" width="289.21875" height="128"/><g class="cluster-label" transform="translate(117.5, 8)"><foreignObject width="70.21875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Execution</p></span></div></foreignObject></g></g></g><g class="edgePaths"/><g class="edgeLabels"/><g class="nodes"><g class="node default modeA" id="flowchart-A_DIRECT-7" transform="translate(152.609375, 72)"><rect class="basic label-container" style="fill:#3b82f6 !important;stroke:#2563eb !important" x="-99.609375" y="-39" width="199.21875" height="78"/><g class="label" style="color:#fff !important" transform="translate(-69.609375, -24)"><rect/><foreignObject width="139.21875" height="48"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Direct execution<br />via user allowances</p></span></div></foreignObject></g></g></g></g><g class="root" transform="translate(61.9140625, 32.5)"><g class="clusters"><g class="cluster" id="A_USER" data-look="classic"><rect style="" x="8" y="8" width="276.171875" height="188"/><g class="cluster-label" transform="translate(111.4296875, 8)"><foreignObject width="69.3125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>User Type</p></span></div></foreignObject></g></g></g><g class="edgePaths"/><g class="edgeLabels"/><g class="nodes"><g class="node default modeA" id="flowchart-A_U1-1" transform="translate(146.0859375, 60)"><rect class="basic label-container" style="fill:#3b82f6 !important;stroke:#2563eb !important" x="-93.0859375" y="-27" width="186.171875" height="54"/><g class="label" style="color:#fff !important" transform="translate(-63.0859375, -12)"><rect/><foreignObject width="126.171875" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>EOA / Power User</p></span></div></foreignObject></g></g><g class="node default modeA" id="flowchart-A_U2-2" transform="translate(146.0859375, 144)"><rect class="basic label-container" style="fill:#3b82f6 !important;stroke:#2563eb !important" x="-82.6640625" y="-27" width="165.328125" height="54"/><g class="label" style="color:#fff !important" transform="translate(-52.6640625, -12)"><rect/><foreignObject width="105.328125" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Non-Safe Vault</p></span></div></foreignObject></g></g></g></g><g class="root" transform="translate(36.5546875, 285.5)"><g class="clusters"><g class="cluster" id="A_AUTH" data-look="classic"><rect style="" x="8" y="8" width="326.890625" height="308"/><g class="cluster-label" transform="translate(123.0078125, 8)"><foreignObject width="96.875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Authorization</p></span></div></foreignObject></g></g></g><g class="edgePaths"/><g class="edgeLabels"/><g class="nodes"><g class="node default modeA" id="flowchart-A_SIGN-3" transform="translate(171.4453125, 60)"><rect class="basic label-container" style="fill:#3b82f6 !important;stroke:#2563eb !important" x="-118.4453125" y="-27" width="236.890625" height="54"/><g class="label" style="color:#fff !important" transform="translate(-88.4453125, -12)"><rect/><foreignObject width="176.890625" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>User signs EIP-712 Intent</p></span></div></foreignObject></g></g><g class="node default modeA" id="flowchart-A_CONSTRAINTS-4" transform="translate(171.4453125, 204)"><rect class="basic label-container" style="fill:#3b82f6 !important;stroke:#2563eb !important" x="-113.3125" y="-87" width="226.625" height="174"/><g class="label" style="color:#fff !important" transform="translate(-83.3125, -72)"><rect/><foreignObject width="166.625" height="144"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Embedded Constraints:<br />‚Ä¢ slippage cap<br />‚Ä¢ max price impact<br />‚Ä¢ deadline<br />‚Ä¢ gas budget<br />‚Ä¢ allowed tokens/pools</p></span></div></foreignObject></g></g></g></g><g class="root" transform="translate(25, 658.5)"><g class="clusters"><g class="cluster" id="A_ENFORCE" data-look="classic"><rect style="" x="8" y="8" width="350" height="236"/><g class="cluster-label" transform="translate(116.5, 8)"><foreignObject width="133" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Enforcement Point</p></span></div></foreignObject></g></g></g><g class="edgePaths"/><g class="edgeLabels"/><g class="nodes"><g class="node default modeA" id="flowchart-A_ROUTER-5" transform="translate(183, 60)"><rect class="basic label-container" style="fill:#3b82f6 !important;stroke:#2563eb !important" x="-108.796875" y="-27" width="217.59375" height="54"/><g class="label" style="color:#fff !important" transform="translate(-78.796875, -12)"><rect/><foreignObject width="157.59375" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>IntentRouter Contract</p></span></div></foreignObject></g></g><g class="node default modeA" id="flowchart-A_CHECK-6" transform="translate(183, 168)"><rect class="basic label-container" style="fill:#3b82f6 !important;stroke:#2563eb !important" x="-130" y="-51" width="260" height="102"/><g class="label" style="color:#fff !important" transform="translate(-100, -36)"><rect/><foreignObject width="200" height="72"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>validateIntent()<br /><i>Rejects if constraints violated</i></p></span></div></foreignObject></g></g></g></g></g></g><g class="root" transform="translate(2050, 634)"><g class="clusters"><g class="cluster" id="HEADER" data-look="classic"><rect style="" x="8" y="8" width="323.4375" height="176"/><g class="cluster-label" transform="translate(69.71875, 8)"><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>üìú DUAL POLICY ENFORCEMENT MODES</p></span></div></foreignObject></g></g></g><g class="edgePaths"/><g class="edgeLabels"/><g class="nodes"><g class="node default headerStyle" id="flowchart-H1-0" transform="translate(169.71875, 96)"><rect class="basic label-container" style="fill:#1e293b !important;stroke:#475569 !important" x="-129.21875" y="-63" width="258.4375" height="126"/><g class="label" style="color:#fff !important" transform="translate(-99.21875, -48)"><rect/><foreignObject width="198.4375" height="96"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Choose based on:<br />‚Ä¢ Custody model<br />‚Ä¢ Governance requirements<br />‚Ä¢ User persona</p></span></div></foreignObject></g></g></g></g></g></g></g></svg>