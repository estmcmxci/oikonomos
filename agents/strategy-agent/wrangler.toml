name = "oikonomos-strategy-agent"
main = "src/index.ts"
compatibility_date = "2024-01-01"

[vars]
# OIK-50: Switched to Base Sepolia for x402 native support
CHAIN_ID = "84532"
POOL_MANAGER = "0x05E73354cFDd6745C338b50BcFDfA3Aa6fA03408"
QUOTER = "0x4a6513c898FE00a3A29b884381787ee89770DdcB"
# OIK-37: Execute endpoint requirements
INTENT_ROUTER = "0xe57a783A55Da1FBA9aBAF1eD7bCDf16792604858"
RECEIPT_HOOK = "0x906E3e24C04f6b6B5b6743BB77d0FCBE4d87C040"

# Legacy Sepolia addresses (for reference)
# CHAIN_ID = "11155111"
# POOL_MANAGER = "0xE03A1074c86CFeDd5C142C4F04F1a1536e203543"
# QUOTER = "0x61b3f2011a92d183c7dbadbda940a7555ccf9227"
# INTENT_ROUTER = "0x89223f6157cDE457B37763A70ed4E6A302F23683"
# RECEIPT_HOOK = "0x41a75f07bA1958EcA78805D8419C87a393764040"

# Secrets (set via wrangler secret put)
# PRIVATE_KEY - Strategy agent dedicated private key (OIK-32)
# RPC_URL - Sepolia RPC URL
# STRATEGY_AGENT_WALLET - Public address to receive x402 fees (future)

# KV Namespace for quote storage
[[kv_namespaces]]
binding = "STRATEGY_KV"
id = "6c529fd5143f408e80cfeae947b0cb05"
