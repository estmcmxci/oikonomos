name = "oikonomos-treasury-agent"
main = "src/index.ts"
compatibility_date = "2024-01-01"

[vars]
CHAIN_ID = "11155111"
INTENT_ROUTER = "0x89223f6157cDE457B37763A70ed4E6A302F23683"
RECEIPT_HOOK = "0x41a75f07bA1958EcA78805D8419C87a393764040"
STRATEGY_ID = "0x0000000000000000000000000000000000000000000000000000000000000001"
# For local testing, use: http://localhost:8787
# For production, use: https://oikonomos-strategy-agent.workers.dev
STRATEGY_AGENT_URL = "http://localhost:8787"
# OIK-34: Indexer URL for marketplace discovery
INDEXER_URL = "https://indexer-production-323e.up.railway.app"
# OIK-36: Uniswap V4 contracts (Sepolia)
QUOTER_V4 = "0x61b3f2011a92d183c7dbadbda940a7555ccf9227"
POOL_MANAGER = "0xE03A1074c86CFeDd5C142C4F04F1a1536e203543"

# Secrets (set via wrangler secret put)
# PRIVATE_KEY - Treasury agent dedicated private key (OIK-32)
# RPC_URL - Sepolia RPC URL
# AGENT_WALLET - Public address to receive x402 fees

# KV namespace for state and policy storage
[[kv_namespaces]]
binding = "TREASURY_KV"
id = "c271c958a1ce4d38b256b6f0868f4314"

# Cron triggers for scheduled drift checks (every 5 minutes)
[triggers]
crons = ["*/5 * * * *"]
